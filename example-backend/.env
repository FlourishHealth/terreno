# Example Backend Environment Variables
# Copy this file to .env for local development
# Bun automatically loads .env files - no dotenv package needed

# =============================================================================
# Required Variables
# =============================================================================

# JWT Token Configuration (REQUIRED for authentication)
TOKEN_SECRET=your-secret-key-here
TOKEN_ISSUER=terreno-example
REFRESH_TOKEN_SECRET=your-refresh-secret-key-here
SESSION_SECRET=your-session-secret-here

# =============================================================================
# Database
# =============================================================================

# MongoDB connection string
MONGO_URI=mongodb://localhost:27017/terreno-example

# =============================================================================
# Server Configuration
# =============================================================================

# Server port
PORT=4000

# Node environment (development, production, test)
NODE_ENV=development

# Application environment (development, staging, production)
# APP_ENV=development

# Backend service type (api, websockets, tasks, all)
# BACKEND_SERVICE=all

# =============================================================================
# Token Expiration
# =============================================================================

# How long auth tokens are valid (default: 15m)
# TOKEN_EXPIRES_IN=15m

# How long refresh tokens are valid (default: 30d)
# REFRESH_TOKEN_EXPIRES_IN=30d

# =============================================================================
# GitHub OAuth (Optional)
# =============================================================================

# GitHub OAuth credentials (if using GitHub authentication)
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret
# GITHUB_CALLBACK_URL=http://localhost:4000/auth/github/callback

# =============================================================================
# Features & APIs
# =============================================================================

# Disable user signup (if you want invite-only)
# SIGNUP_DISABLED=true

# Enable Swagger UI at /swagger
# ENABLE_SWAGGER=true

# Gemini API key (if using AI features)
# GEMINI_API_KEY=your-gemini-api-key

# =============================================================================
# Logging & Monitoring
# =============================================================================

# Sentry DSN for error tracking
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Use Sentry for logging
# USE_SENTRY_LOGGING=true

# Trace sampling rate for OpenTelemetry (0.0 to 1.0)
# TRACE_SAMPLING_RATE=0.1

# Log all requests (true/false)
# LOG_REQUESTS=true

# Log slow requests exceeding threshold
# LOG_SLOW_REQUESTS=true

# Slow request threshold in milliseconds (default: 5000)
# SLOW_REQUEST_THRESHOLD_MS=5000

# Slow database query threshold in milliseconds (default: 100)
# SLOW_DB_QUERY_THRESHOLD_MS=100

# Memory sampling interval in milliseconds
# MEMORY_SAMPLE_INTERVAL_MS=60000

# =============================================================================
# WebSockets
# =============================================================================

# WebSocket server port (if different from main server)
# WEBSOCKET_PORT=4001

# WebSocket debug logging
# WEBSOCKETS_DEBUG=true

# Frontend URL for CORS (if different from auto-detected)
# FRONTEND_URL=http://localhost:8082

# =============================================================================
# Caching (Redis/Valkey)
# =============================================================================

# Redis/Valkey connection URL
# VALKEY_URL=redis://localhost:6379

# =============================================================================
# Webhooks & Notifications (Optional)
# =============================================================================

# Slack webhooks (JSON object mapping names to URLs)
# SLACK_WEBHOOKS={"default": "https://hooks.slack.com/services/YOUR/WEBHOOK/URL"}

# Google Chat webhooks (JSON object mapping names to URLs)
# GOOGLE_CHAT_WEBHOOKS={"default": "https://chat.googleapis.com/v1/spaces/YOUR/WEBHOOK"}

# Zoom webhook URL
# ZOOM_WEBHOOK=https://zoom.us/webhook/YOUR_WEBHOOK

# =============================================================================
# Google Cloud Platform (Optional)
# =============================================================================

# GCP project ID
# GCP_PROJECT=your-gcp-project

# GCP region/location
# GCP_LOCATION=us-central1

# GCP service account email
# GCP_SERVICE_ACCOUNT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com

# Cloud Tasks queue names
# GCP_TASKS_NOTIFICATIONS_QUEUE=notifications-queue
# GCP_TASK_PROCESSOR_QUEUE=task-processor-queue

# =============================================================================
# Testing
# =============================================================================

# MongoDB URI for tests (if different from main)
# TEST_MONGO_URI=mongodb://localhost:27017/terreno-example-test

# Cron secret key for testing scheduled tasks
# CRON_SECRET_KEY=test-cron-secret

# =============================================================================
# Service URLs (for microservices)
# =============================================================================

# API service URL
# API_URL=http://localhost:4000

# Tasks service URL
# TASKS_URL=http://localhost:4000

# Pull request service URL (for PR environments)
# PR_SERVICE_URL=your-cloud-run-service.a.run.app

# Pull request number (set by CI/CD)
# PR_NUMBER=123

# =============================================================================
# Other
# =============================================================================

# Flourish service name (for tracing/monitoring)
# FLOURISH_SERVICE=terreno-example-backend
