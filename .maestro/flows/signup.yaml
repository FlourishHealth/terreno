url: http://localhost:8082/login
---
# Sign up a new user
# Prerequisites: backend running on port 4000, frontend running on port 8082

- launchApp

# Wait for the login screen to load
- extendedWaitUntil:
    visible: "Welcome Back"
    timeout: 30000

# Toggle to signup mode
- tapOn: "Need an account? Sign Up"

# Assert signup mode
- assertVisible: "Create Account"

# Fill in name - tap the input field (second "Name" element, after the label)
- tapOn:
    text: "Name"
    index: 1
- inputText: "New User"

# Fill in email - tap the input field (second "Email" element, after the label)
- tapOn:
    text: "Email"
    index: 1
- inputText: "newuser-${Date.now()}@example.com"

# Fill in password - tap the input field (second "Password" element, after the label)
- tapOn:
    text: "Password"
    index: 1
- inputText: "testpassword123"

# Submit signup
- tapOn: "Sign Up"

# Assert navigation to Todos screen
- extendedWaitUntil:
    visible: "My Todos"
    timeout: 10000
